const VOLCANO = (() => {
  const SLEDDER_START = -45
  return {
    name: 'Volcano',
    nick: 'VOLCANO',
    colors: Colors.biomes.volcano,
    runAsCutscene: true,
    axesEnabled: false,
    radius: 3,
    x: -50,
    y: 0,
    camera: {
      x: 2,
      y: 0,
    },
    victoryX: 760,
    requirements: ['TWO_BELOW'],
    defaultExpression:
      '-10+\\frac{10}{1+e^{\\frac{\\left(x-200\\right)}{16}}}+\\left(1-\\frac{1}{1+\\left(\\frac{x-150}{150}\\right)^{8}}\\right)\\cdot\\left(\\left(\\sin\\left(\\frac{x}{19}\\right)+2\\right)\\cdot\\sin\\left(\\frac{x}{11}\\right)+\\sin\\left(\\frac{x}{17}\\right)\\right)+\\frac{40}{1+\\left(\\frac{x-200}{100}\\right)^{6}}-\\frac{60}{1+\\left(\\frac{x-200}{30}\\right)^{6}}+\\frac{120}{1+e^{-\\frac{\\left(-x+60\\right)}{12}}}+\\left(\\frac{x-240}{100}\\right)^{2}',
    assets: {
      sounds: {
        music: {
          volcano: {
            start: '.mp3',
            middle_buildup: '.mp3',
            jump: '.mp3',
            middle_guitar: '.mp3',
          },
        },
        lava_monster_roar: '.mp3',
      },
      images: {
        volcano_rock_1: '.webp',
        volcano_rock_2: '.webp',
        volcano_rock_4: '.webp',
        volcano_trees: '.webp',
        volcano_tree_1: '.webp',
        volcano_tree_2: '.webp',
        volcano_background: '.webp',
        volcano_background_tall: '.webp',
        volcano_background_medium: '.webp',
        // TODO: Clean up lavamonster background
        // and convert png -> webp
        lavamonster: 'lavamonster_no_bg.png',
        lavamonster_jaw: '.png',
      },
    },
    directors: [
      {
        type: 'tracking',
        minFov: 8,
        minFovMargin: 7,
        transitions: [
          {
            domain: [10, 135],
            properties: {
              verticalBias: 0,
              transitionSmoothing: 0.005,
              smoothing: 0.05,
            },
          },
          {
            domain: [135, 250],
            properties: {
              verticalBias: 0,
              minFov: 45,
            },
          },
        ],
      },
    ],
    goals: [],
    sky: {
      asset: 'images.volcano_background_tall',
      margin: 1,
    },
    bubble: {
      sky: {
        asset: 'images.western_slopes_background',
        margin: 1,
      },
    },
    dialogue: [
      {
        speaker: 'Jack',
        color: '#FFF',
        content: 'See? The finish line!',
        direction: 'up-left',
      },
      {
        speaker: 'Jack',
        content: '…must be where the little people are going.',
        color: '#FFF',
        direction: 'up-up-right',
      },
      {
        speaker: 'Ada',
        color: '#FFF',
        content: "Shoot! They're barely ahead of us!",
        direction: 'up-up-left',
      },
      {
        speaker: 'Ada',
        color: '#FFF',
        content: 'But not anymore.',
        direction: 'up-up-left',
        length: 4,
        speech: {
          speaker: 'Ada',
          color: '#FFF',
          content: 'We probably COULD have won.',
          direction: 'up',
        },
      },
      {
        speaker: 'Jack',
        color: '#FFF',
        content: '…I have a crazy idea.',
        direction: 'up-up-right',
      },
      {
        speaker: 'Jack',
        color: '#FFF',
        content: 'So utterly, indubitably insane it just…',
        direction: 'up-up-right',
      },
      {
        speaker: 'Jack',
        color: '#FFF',
        content: 'might…',
        direction: 'up-up-right',
        gap: 0,
      },
      {
        speaker: 'Ada',
        color: '#FFF',
        content: 'Stop stalling! Tell me your stupid idea already.',
        direction: 'up-up-left',
        gap: 0.5,
        length: 4,
      },
      {
        speaker: 'Jack',
        color: '#FFF',
        content: 'We go over it.',
        direction: 'up-up-left',
        speech: {
          speaker: 'Jack',
          color: '#FFF',
          content: "We don't go around the volcano.",
          direction: 'up',
        },
      },
      {
        speaker: 'Ada',
        color: '#FFF',
        content: 'Over it??',
        direction: 'up-up-left',
      },
      {
        speaker: 'Jack',
        color: '#FFF',
        content: 'We jump it.',
        direction: 'up-up-left',
        gap: 1,
      },
      {
        speaker: 'Ada',
        color: '#FFF',
        content: '…',
        direction: 'up-up-left',
        gap: 2,
      },
      {
        speaker: 'Ada',
        color: '#FFF',
        content: 'That sounds dangerous.',
        direction: 'up-up-left',
        gap: 0,
      },
      {
        speaker: 'Jack',
        color: '#FFF',
        content: 'You want to win, right?',
        direction: 'up-up-left',
      },
      {
        speaker: 'Ada',
        color: '#FFF',
        content: "...let's go",
        direction: 'up-up-left',
      },
    ],
    walkers: [
      {
        // x: -50,
        x: -118,
        range: [-130, 10000],
        asset: 'images.jack_float',
        name: 'Jack',
        transition: {
          name: 'SLEDDER_1',
          toggleRunning: true,
          xRequirements: [SLEDDER_START],
        },
        //  range: [-34, 1],
        transitionX: 0,
        bobSpeed: 0.918218,
        speech: [],
        walkers: {
          x: -120,
          name: 'Ada',
          asset: 'images.ada_float',
          transition: {
            name: 'SLEDDER_1',
            xRequirements: [-33, -34.5],
            runningAfterTransition: true,
          },
          //  range: [-33, 0],
          transitionX: 0,
          speech: [],
        },
      },
    ],
    lava: {
      x: 155,
      y: 55,
      size: 90,
    },
    sprites: [
      {
        asset: 'images.volcano_tree_1',
        flipX: true,
        size: 10,
        x: -122,
        offset: [0, 0.9],
        anchored: true,
      },
      {
        asset: 'images.volcano_rock_2',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 3,
        x: -120,
        offset: [0, 0.0],
        anchored: true,
      },
      {
        asset: 'images.volcano_tree_2',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 10,
        x: -120,
        offset: [0, 0.9],
        anchored: true,
      },
      {
        asset: 'images.volcano_rock_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 2.5,
        x: -117,
        offset: [0, 0],
        anchored: true,
      },
      {
        asset: 'images.volcano_tree_1',
        flipX: true,
        size: 10,
        x: -105,
        offset: [0, 0.9],
        anchored: true,
      },
      {
        asset: 'images.volcano_rock_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 2.5,
        x: -104.9,
        offset: [0, 0],
        anchored: true,
      },
      {
        asset: 'images.big_rock',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 7,
        x: SLEDDER_START - 2,
        offset: [0, 0.38],
        anchored: true,
        sloped: true,
      },
      {
        asset: 'images.volcano_tree_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 10,
        x: -93,
        offset: [0, 0.9],
        anchored: true,
      },
      {
        asset: 'images.volcano_tree_2',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 10,
        x: -89,
        offset: [0, 0.9],
        anchored: true,
      },
      {
        asset: 'images.volcano_tree_2',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 10,
        x: -58,
        offset: [0, 0.9],
        anchored: true,
      },
      {
        asset: 'images.volcano_tree_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 10,
        x: -54,
        offset: [0, 0.9],
        anchored: true,
      },
      {
        asset: 'images.volcano_rock_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 3.4,
        x: -88,
        offset: [0, 0],
        anchored: true,
      },
      {
        asset: 'images.volcano_tree_1',
        flipX: true,
        size: 10,
        x: -69,
        offset: [0, 0.9],
        anchored: true,
      },
      {
        asset: 'images.volcano_rock_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 3.2,
        x: -88,
        offset: [0, 0.2],
        anchored: true,
      },
      {
        asset: 'images.volcano_rock_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 4.5,
        x: -87,
        offset: [0, 0.2],
        anchored: true,
      },
      {
        asset: 'images.volcano_rock_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 4.5,
        x: -93,
        offset: [0, 0.2],
        anchored: true,
      },
      {
        asset: 'images.volcano_rock_1',
        flipX: false,
        drawOrder: LAYERS.foreSprites,
        size: 4.5,
        x: -95,
        offset: [0, 0.2],
        anchored: true,
      },
      {
        asset: 'images.volcano_rock_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 4,
        x: -83,
        offset: [0, 0.3],
        anchored: true,
      },
      {
        asset: 'images.volcano_rock_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 5,
        x: -82,
        offset: [0, 0.3],
        anchored: true,
      },
      {
        asset: 'images.volcano_rock_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 3,
        x: -53,
        offset: [0, 0.3],
        anchored: true,
      },
      {
        asset: 'images.volcano_tree_2',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 10,
        x: -10,
        offset: [0, 0.3],
        anchored: true,
      },
      {
        asset: 'images.volcano_tree_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 10,
        x: -15,
        offset: [0, 0.3],
        anchored: true,
      },
      {
        asset: 'images.volcano_rock_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 3,
        x: -8,
        offset: [0, 0.4],
        anchored: true,
      },
      {
        asset: 'images.volcano_rock_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 3,
        x: -10,
        offset: [0, 0.4],
        anchored: true,
      },
      {
        asset: 'images.goalpost_left',
        drawOrder: LAYERS.backSprites,
        size: 8,
        x: 753.8,
        offset: [0, 0.25],
        anchored: true,
      },
      {
        asset: 'images.goalpost_right',
        drawOrder: LAYERS.foreSprites,
        size: 6,
        x: 753,
        offset: [0, 0.6],
        anchored: true,
      },
      {
        asset: 'images.volcano_tree_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 10,
        x: 54,
        offset: [0, 0.6],
        anchored: true,
      },
      {
        asset: 'images.volcano_tree_2',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 10,
        x: 40,
        offset: [0, 0.6],
        anchored: true,
      },
      {
        asset: 'images.volcano_tree_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 10,
        x: 25,
        offset: [0, 0.6],
        anchored: true,
      },
      {
        asset: 'images.volcano_tree_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 10,
        x: 3,
        offset: [0, 0.3],
        anchored: true,
      },
      {
        asset: 'images.volcano_tree_2',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 12,
        x: 48,
        offset: [0, 0.6],
        anchored: true,
      },
      {
        asset: 'images.volcano_tree_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 12,
        x: 74,
        offset: [0, 0.6],
        anchored: true,
      },
      {
        asset: 'images.volcano_tree_2',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 12,
        x: 69,
        offset: [0, 0.6],
        anchored: true,
      },
      {
        asset: 'images.dante',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 1.6,
        x: -137.5,
        offset: [0, 1],
        anchored: true,
      },
      {
        asset: 'images.big_rock',
        drawOrder: LAYERS.foreSprites,
        size: 3,
        x: -139,
        offset: [0, 0.38],
        anchored: true,
        sloped: true,
      },
      {
        asset: 'images.volcano_rock_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 2.5,
        x: -137.5,
        offset: [0, 0.4],
        anchored: true,
      },
      {
        asset: 'images.volcano_tree_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 12,
        x: 530,
        offset: [0, 0.2],
        anchored: true,
      },
      {
        asset: 'images.volcano_rock_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 2.5,
        x: 530.3,
        offset: [0, 0.9],
        anchored: true,
      },
      {
        asset: 'images.benny_sam_sled',
        drawOrder: LAYERS.foreSprites,
        size: 3,
        x: 540,
        offset: [0, 1],
        anchored: true,
        sloped: true,
      },
      {
        asset: 'images.nicky_sledders',
        drawOrder: LAYERS.foreSprites,
        size: 1.7,
        x: 620,
        offset: [0, 1],
        anchored: true,
        sloped: true,
      },
      {
        asset: 'images.xkcd_sledders',
        drawOrder: LAYERS.foreSprites,
        size: 2,
        x: 700,
        offset: [0, 1],
        anchored: true,
        sloped: true,
      },
      {
        asset: 'images.volcano_tree_2',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 12,
        x: 590,
        offset: [0, 0.2],
        anchored: true,
      },
      {
        asset: 'images.volcano_tree_2',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 12,
        x: 620,
        offset: [0, 0.2],
        anchored: true,
      },
      {
        asset: 'images.volcano_tree_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 12,
        x: 650,
        offset: [0, 0.2],
        anchored: true,
      },
      {
        asset: 'images.volcano_tree_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 12,
        x: 680,
        offset: [0, 0.2],
        anchored: true,
      },
      {
        asset: 'images.volcano_tree_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 12,
        x: 710,
        offset: [0, 0.2],
        anchored: true,
      },
      {
        asset: 'images.volcano_tree_1',
        flipX: true,
        drawOrder: LAYERS.foreSprites,
        size: 12,
        x: 740,
        offset: [0, 0.2],
        anchored: true,
      },
      {
        asset: 'images.volcano_rock_1',
        flipX: false,
        drawOrder: LAYERS.foreSprites,
        size: 4.5,
        x: 670,
        offset: [0, -1],
        anchored: true,
      },
      {
        asset: 'images.volcano_rock_2',
        flipX: false,
        drawOrder: LAYERS.foreSprites,
        size: 4.5,
        x: 750,
        offset: [0, 0.2],
        anchored: true,
      },
      {
        asset: 'images.volcano_rock_1',
        flipX: false,
        drawOrder: LAYERS.foreSprites,
        size: 4.5,
        x: 570,
        offset: [0, 0.2],
        anchored: true,
      },
    ],
    sledders: [
      {
        name: 'SLEDDER_1',
        active: false,
        x: -45,
      },
    ],
    backgroundMusic: {
      asset: 'sounds.music.volcano.start',
      volume: 1,
      domain: [-1001, -1000, SLEDDER_START, SLEDDER_START + 30],
    },
    sounds: [
      {
        asset: 'sounds.music.volcano.jump',
        loop: false,
        volume: 1,
        domain: [SLEDDER_START, SLEDDER_START + 30, 200, 240],
        track: 'sledders',
      },
      // {
      //   asset: 'sounds.music.volcano.middle_buildup',
      //   loop: true,
      //   volume: 1,
      //   domain: [-3, 10, 100, 140],
      //   track: 'sledders'
      // },
      // {
      //   asset: 'sounds.music.volcano.jump',
      //   volume: 1,
      //   domain: [120, 150],
      //   track: 'sledders'
      // },
      {
        asset: 'sounds.music.volcano.middle_guitar',
        volume: 1,
        domain: [240, 300],
        track: 'sledders',
      },
    ],
  }
})()
